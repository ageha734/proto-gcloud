commit-msg:
    parallel: true
    jobs:
    - run: commitlint lint --message "$1"
pre-commit:
    parallel: true
    commands:
        format:
            glob: '**/*.rs'
            run: cargo fmt --all --check
        lint:
            glob: '**/*.rs'
            run: cargo clippy --workspace --all-targets
        build-and-test:
            glob: '**/*.rs'
            run: cargo build --target wasm32-wasip1 && cargo nextest run --no-default-features
